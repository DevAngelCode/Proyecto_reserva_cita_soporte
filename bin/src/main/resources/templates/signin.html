<!DOCTYPE html>
<html lang="es" xmlns:th="~http://www.thymeleaf.org"
	th:replace="~{user/base_user::Layout(~{::section})}">

<head>
<meta charset="UTF-8">
<title>Login</title>
</head>

<body>
	<section>
		<div class="container-fluid">
			<div class="row">
				<!-- Columna izquierda -->
				<div
					class="col-12 col-md-5 col1 d-flex justify-content-center align-items-center">
					<div class="position-relative bg-white p-2 rounded-3 shadow"
						style="height: 465px; width: 370px; overflow: hidden;">
						<div class="mx-auto my-3 text-center" style="width: 240px;">
							<p class="fw-bold fs-2">BIENVENIDO</p>
							<th:block th:if="${session.succMsg}">
								<p class="text-success fw-bold">[[${session.succMsg}]]</p>
								<th:block th:text="${@commomServiceImpl.removeSessionMessage()}"></th:block>
							</th:block>
							<th:block th:if="${session.errorMsg}">
								<p class="text-danger fw-bold">[[${session.errorMsg}]]</p>
								<th:block th:text="${@commomServiceImpl.removeSessionMessage()}"></th:block>

							</th:block>
						</div>
						<div class="position-relative mx-auto"
							style="width: 250px; border-radius: 30px; box-shadow: 0 0 15px 5px #e0e0e0;">
							<div id="elegir"></div>
							<button class="btn-LR" onclick="login()">Iniciar Sesión</button>
							<button class="btn-LR" onclick="registrar()">Registrar</button>
						</div>
						<!-- Formulario Login -->
						<form id="login" class="position-absolute mt-4"
							style="width: 280px; transition: 0.8s;" action="/login"
							method="POST">
							<label for="correo" class="visually-hidden">Correo
								Electrónico</label> <input id="correo" type="text"
								class="input-formulario" name="username"
								placeholder="Correo Electrónico" required> <label
								for="contrasena" class="visually-hidden">Contraseña</label> <input
								id="contrasena" type="password" class="input-formulario"
								name="password" placeholder="Contraseña" required>
							<button type="submit" class="btn-submit mt-5" name="btt_ingresar">Acceder</button>
							<div th:if="${param.error}"
								class="alert alert-danger text-center">
								[[${session.SPRING_SECURITY_LAST_EXCEPTION.message}]]</div>

							<div th:if="${param.logout}" class="alert alert-success">
								Logout Sucessfully</div>
						</form>
						<!-- Formulario Registrar -->
						<form id="registrar" class="position-absolute mt-4"
							style="width: 280px; transition: 0.8s;" action="/registrar" method="POST">
							<label for="usuario" class="visually-hidden">Nombre Completo</label> <input id="usuario" type="text" class="input-formulario"
								name="nombre" placeholder="Nombre Completo" required>
							<label for="correo_registro" class="visually-hidden">Correo
								Electrónico</label> <input id="correo_registro" type="email"
								class="input-formulario" name="email"
								placeholder="Correo Electrónico" required> <label
								for="contrasena_registro" class="visually-hidden">Contraseña</label>
							<input id="contrasena_registro" type="password"
								class="input-formulario" name="password"
								placeholder="Contraseña" required> <input
								type="checkbox" class="check-box"> <span class="tyc">Acepto
								los términos y condiciones</span>
							<button type="submit" class="btn-submit">Registrar</button>

						</form>
					</div>
				</div>
				<!-- Columna derecha -->
				<div
					class="col-12 col-md-7 col2 d-flex justify-content-center align-items-center">
					<div>
						<img src="/img/img-login.png" alt="Página de login ProTec Store"
							class="img-fluid">
					</div>
				</div>
			</div>
		</div>
	</section>
	<script
		src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.bundle.min.js"
		integrity="sha384-YvpcrYf0tY3lHB60NNkmXc5s9fDVZLESaAA55NDzOxhy9GkcIdslK1eN7N6jIeHz"
		crossorigin="anonymous">
        </script>

</body>

</html>